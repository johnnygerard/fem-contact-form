@if (isSuccess()) {
  <app-toast />
}
<form
  class="p-300 md:p-500 flex flex-col rounded-lg bg-white"
  [formGroup]="formControls"
  (ngSubmit)="onSubmit()"
>
  <h1 class="text-heading">Contact Us</h1>

  <div>
    <!-- firstName -->
    <div>
      <label class="text-sm" for="f-first-name">First Name</label>
      <input
        class="c-text-field-border"
        type="text"
        id="f-first-name"
        formControlName="firstName"
        autocomplete="given-name"
      />
      @if (hasRequiredError(formControls.controls.firstName)) {
        <div class="text-red text-sm">{{ REQUIRED_ERROR_MSG }}</div>
      }
    </div>

    <!-- lastName -->
    <div>
      <label class="text-sm" for="f-last-name">Last Name</label>
      <input
        class="c-text-field-border"
        type="text"
        id="f-last-name"
        formControlName="lastName"
        autocomplete="family-name"
      />
      @if (hasRequiredError(formControls.controls.lastName)) {
        <div class="text-red text-sm">{{ REQUIRED_ERROR_MSG }}</div>
      }
    </div>
  </div>

  <!-- email -->
  <div>
    <label class="text-sm" for="f-email">Email</label>
    <input
      class="c-text-field-border"
      type="email"
      id="f-email"
      formControlName="email"
      autocomplete="email"
    />
    @if (hasRequiredError(formControls.controls.email)) {
      <div class="text-red text-sm">{{ REQUIRED_ERROR_MSG }}</div>
    }
    @if (hasEmailError()) {
      <div class="text-red text-sm">Please enter a valid email address</div>
    }
  </div>

  <!-- query -->
  <fieldset>
    <legend class="text-sm">Query Type</legend>

    <div>
      <div class="c-radio-field-border">
        <label for="f-query-type-0">General Enquiry</label>
        <input
          type="radio"
          id="f-query-type-0"
          formControlName="query"
          value="0"
        />
      </div>

      <div class="c-radio-field-border">
        <label for="f-query-type-1">Support Request</label>
        <input
          type="radio"
          id="f-query-type-1"
          formControlName="query"
          value="1"
        />
      </div>
    </div>
    @if (hasRequiredError(formControls.controls.query)) {
      <div class="text-red text-sm">Please select a query type</div>
    }
  </fieldset>

  <!-- message -->
  <div>
    <label class="text-sm" for="f-message">Message</label>
    <textarea
      class="c-text-field-border resize-none"
      id="f-message"
      formControlName="message"
      autocomplete="off"
    ></textarea>
    @if (hasRequiredError(formControls.controls.message)) {
      <div class="text-red text-sm">{{ REQUIRED_ERROR_MSG }}</div>
    }
  </div>

  <!-- consent -->
  <div>
    <label class="text-sm" for="f-consent"
      >I consent to being contacted by the team</label
    >
    <input
      class="c-text-field-border"
      type="checkbox"
      id="f-consent"
      formControlName="consent"
    />
    @if (hasRequiredError(formControls.controls.consent)) {
      <div class="text-red text-sm">
        To submit this form, please consent to being contacted
      </div>
    }
  </div>

  <button
    class="text-base-bold py-200 hocus-visible:bg-[#063F35] rounded bg-green-600 text-white -outline-offset-4 transition-[background-color] duration-300 ease-out"
    type="submit"
  >
    Submit
  </button>
</form>
